# 03.01. 三合一 (2021.06.14)

https://leetcode-cn.com/problems/three-in-one-lcci/

```java
/**
 * Your TripleInOne object will be instantiated and called as such:
 * TripleInOne obj = new TripleInOne(stackSize);
 * obj.push(stackNum,value);
 * int param_2 = obj.pop(stackNum);
 * int param_3 = obj.peek(stackNum);
 * boolean param_4 = obj.isEmpty(stackNum);
 */
```

## Solution 1: Array as multiple stacks

- $TC:O(1)$ for all operations
- 用一个数组同时表示三个stack，比如stackSize为3，那么[0..2]对应第一个stack，[3..5]对应第二个stack，[6..8]对应第三个stack。
- 还有另一种思路就是让[0,3,6]对应第一个stack，[1,4,7]对应第二个stack，[2,5,8]对应第三个stack。

```java
class TripleInOne {

    private int[] stacks;
    private int[] pointers;

    public TripleInOne(int stackSize) {
        this.stacks = new int[3 * stackSize];
        this.pointers = new int[3];
        for (int i = 0; i < 3; i++) this.pointers[i] = i * stackSize;
    }
    
    public void push(int stackNum, int value) {
        int stackSize = stacks.length / 3, p = pointers[stackNum];
        if (p < (stackNum + 1) * stackSize) {
            stacks[p] = value;
            pointers[stackNum]++;
        }
    }
    
    public int pop(int stackNum) {
        if (isEmpty(stackNum)) return -1;
        pointers[stackNum]--;
        return stacks[pointers[stackNum]];
    }
    
    public int peek(int stackNum) {
        int stackSize = stacks.length / 3, p = pointers[stackNum];
        if (isEmpty(stackNum)) return -1;
        return stacks[pointers[stackNum] - 1];
    }
    
    public boolean isEmpty(int stackNum) {
        int stackSize = stacks.length / 3, p = pointers[stackNum];
        return p == stackNum * stackSize;
    }
}

```